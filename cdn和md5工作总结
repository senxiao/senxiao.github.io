上周接到任务，要将html，css，js文件中引用的静态资源加上cdn前缀并实现资源的唯一化，以便当文件内容发生改变时，cdn服务器会自动从本地加载新文件。当时已经完成代码的压缩，合并等。最开始的想法是通过循环获取所有的js，css，img文件并加上？v=20160509之类的版本号，以此来解决资源的唯一化，但是存在问题所以放弃。后来组长给了插件gulp-cdnizer，用来给资源加上cdn前缀，我又找到插件gulp-rev，用来给文件名添加md5后缀。光给文件名添加md5码还不行，需要给文件中引用的文件路径也一一对应加上md5码。使用插件的过程也是一波三折，因为使用的插件都是老外写的，看文档的时候也是比较吃力，经过反复阅读文档，不断地测试后将插件成功使用，达到了想要的效果。
但是在生成代码阶段出现了新的问题，因为使用的每个插件都会生成不同的文件，因为gulp是尽量异步运行的。最后的解决方案是将生成md5，添加cdn部分的代码依赖代码的合并，压缩等（也就是在这些操作完成之后执行）。
css文件中引用的图片路径在线上环境下服务器会自动为其加上cdn前缀，因此只需要将Js文件中的图片路径添加cdn前缀，由于js中多使用的是相对路径，cdnizer无法对其进行处理，所以通过对路径的替换使之转化为绝对路径形式并加上cdn前缀。
	gulp是基于node实现Web前端自动化开发的工具，通过这段时间的工作，对gulp的使用有了长足的进步，并对gulp的便捷性有了进一步的了解。在现在看来，之前工作的难点是合适插件的寻找和使用，还有对项目的逻辑分析，对gulp的理解。在工作中难免会碰到各种问题，而沉着应对是战胜困难和bug的不二法门。
